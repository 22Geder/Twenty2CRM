# 🚀 מערכת העלאת קורות חיים חכמה - Twenty2CRM

## ✨ מה נבנה?

### 📤 **דף העלאה המונית** (`/dashboard/upload`)

#### יכולות ראשיות:
1. **העלאת עד 500 קורות חיים בבת אחת**
   - תמיכה ב-PDF, DOCX, DOC, תמונות (PNG, JPG)
   - Drag & Drop פשוט וידידותי
   - בחירה מרובת קבצים

2. **קריאה אוטומטית של קורות חיים** 🤖
   - פרסור PDF באמצעות `pdf-parse`
   - קריאת DOCX/DOC באמצעות `mammoth`
   - הפקת טקסט מלא מהקבצים

3. **ניתוח חכם בעזרת AI** 🧠
   המערכת מזהה אוטומטית:
   - ✅ **שם מלא** - מזיהוי שורות ראשונות
   - ✅ **אימייל** - זיהוי regex של כתובות מייל
   - ✅ **טלפון** - זיהוי פורמט ישראלי (05X-XXXXXXX)
   - ✅ **עיר מגורים** - מתוך רשימת 28 ערים ישראליות
   - ✅ **תפקיד נוכחי** - זיהוי מבין 20+ תפקידים
   - ✅ **מיומנויות** - חילוץ skills (Excel, SAP, מלגזן, וכו')
   - ✅ **שנות ניסיון** - זיהוי אוטומטי

4. **התאמה אוטומטית למשרות** 🎯
   - אם יש "מחסנאי" → **משרת מחסנאי - [עיר]**
   - אם יש "נהג" → **משרת נהג - [עיר]**
   - אם יש "טכנאי" → **משרת טכנאי - [עיר]**
   - התאמה לפי **תפקיד + עיר**

5. **תיוג אוטומטי** 🏷️
   - תגיות נוצרות מ-**תפקיד** + **עיר**
   - מיון אוטומטי לקטגוריות

6. **ממשק חזותי מתקדם**
   - 📊 **4 כרטיסי סטטיסטיקה**: סך הכל / הצליחו / כשלו / ממתינים
   - 📝 **רשימת קבצים מתקפלת** - לחיצה על קובץ מציגה את כל המידע שחולץ
   - ⏳ **פסי התקדמות** בזמן עיבוד
   - ✅ **אישור סופי** להוספת כל המועמדים למערכת

---

## 🛠️ קבצים שנוצרו

### 1. **דף העלאה** (`/app/dashboard/upload/page.tsx`)
```typescript
- React Dropzone לגרירת קבצים
- עיבוד אסינכרוני של 500 קבצים
- ממשק מתקפל לצפייה במידע מועמד
- כפתור הוספה סופית למערכת
```

### 2. **API לעיבוד** (`/app/api/upload/route.ts`)
```typescript
- פרסור PDF/DOCX
- ניתוח טקסט חכם
- שמירת קבצים ב-/public/uploads/resumes
- החזרת JSON עם כל המידע
```

### 3. **עדכון ניווט** (`/components/top-navbar.tsx`)
```typescript
- כפתור "העלאה המונית" חדש
- תג "חדש!" בצבע ירוק
- אייקון Upload
```

---

## 📋 איך זה עובד?

### זרימת העבודה:

```
1. משתמש גורר 500 קורות חיים לאזור ההעלאה
   ↓
2. לחיצה על "התחל עיבוד"
   ↓
3. לכל קובץ:
   - העלאה לשרת
   - קריאת טקסט (PDF/DOCX)
   - ניתוח חכם של המידע
   - זיהוי: שם, מייל, טלפון, עיר, תפקיד, מיומנויות
   - התאמה אוטומטית למשרות
   - יצירת תגיות
   ↓
4. הצגת כל המידע בממשק
   ↓
5. לחיצה על "הוסף X מועמדים למערכת"
   ↓
6. שמירה ב-DB עם כל הפרטים
```

---

## 🎯 דוגמה לתוצאה

### קורות חיים: `יוסי-כהן-מחסנאי.pdf`

**המערכת תזהה:**
```json
{
  "name": "יוסי כהן",
  "email": "yossi.cohen@gmail.com",
  "phone": "052-1234567",
  "city": "תל אביב",
  "currentTitle": "מחסנאי",
  "skills": ["מחשוב", "SAP", "מלגזן", "ניהול מלאי"],
  "experience": "5 שנות ניסיון",
  "matchedPositions": [
    "משרת מחסנאי - תל אביב",
    "מנהל מחסן - תל אביב"
  ],
  "tags": ["מחסנאי", "תל אביב"]
}
```

---

## 🚀 הוספות עתידיות (אופציונליות)

### שלב 2 - שיפורים נוספים:
1. **OCR לתמונות** - קריאת קורות חיים מצולמות
2. **שפות נוספות** - תמיכה באנגלית
3. **AI מתקדם** - שימוש ב-OpenAI GPT לניתוח מדויק יותר
4. **דוחות** - סיכום סטטיסטי של כל העלאה
5. **שכפול** - זיהוי מועמדים כפולים
6. **דירוג** - ציון אוטומטי לפי התאמה למשרה

---

## 📦 חבילות שהותקנו

```bash
✅ pdf-parse       # קריאת PDF
✅ mammoth         # קריאת DOCX
✅ react-dropzone  # העלאת קבצים
✅ formidable      # טיפול בקבצים בשרת
```

---

## 🎨 תכונות UI

### עיצוב:
- 🎨 **Gradient Cards** לסטטיסטיקות
- 🟢 **צבעים חכמים**: ירוק = הצלחה, אדום = שגיאה, כתום = ממתין
- 📊 **Progress Bars** אנימציות
- 🔽 **Expand/Collapse** לפרטי מועמד
- 💫 **Hover Effects** חלקים
- 📱 **Responsive** - עובד על מובייל

### Icons:
- 📤 Upload
- ✅ CheckCircle2
- ❌ XCircle
- 🔄 Loader2
- 👤 User
- 📧 Mail
- 📞 Phone
- 📍 MapPin
- 💼 Briefcase

---

## 💡 טיפים לשימוש

1. **העלאה המונית**: העלה עד 500 קורות חיים בבת אחת
2. **לחץ על קובץ**: ראה את כל המידע שחולץ אוטומטית
3. **בדוק התאמות**: עיין ברשימת המשרות המותאמות
4. **הוסף למערכת**: לחץ על כפתור ההוספה הירוק

---

## 🔐 אבטחה

- ✅ קבצים נשמרים ב-`/public/uploads/resumes`
- ✅ וולידציה לסוגי קבצים (רק PDF/DOCX/תמונות)
- ✅ הגנה מפני העלאת קבצים מזיקים
- ✅ ניקוי שמות קבצים

---

## 📞 תמיכה

המערכת מוכנה לשימוש! 
- גש ל-`http://localhost:3000/dashboard/upload`
- גרור קבצים ותראה את הקסם קורה! 🎩✨
