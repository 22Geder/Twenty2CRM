const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

// ×ª× ××™× ×•×”×˜×‘×•×ª ×œ×˜×œ×¨×™×
const TELLER_BENEFITS = `âœ¨ ×§×œ×™×˜×” ×•×”×¢×¡×§×”:
â€¢ ×§×œ×™×˜×” ×›×¢×•×‘×“×™ ×‘× ×§ ×ž×”×™×•× ×”×¨××©×•×Ÿ ×‘×›×œ ×”×ª×¤×§×™×“×™×
â€¢ ×§×‘×œ×ª ×§×‘×™×¢×•×ª ×œ××—×¨ 36 ×—×•×“×©×™× ×œ×¢×•×‘×“×™× ×”×ž×ª××™×ž×™×
â€¢ ×ž×©×¨×” ×ž×œ××”: 169 ×©×¢×•×ª ×—×•×“×©×™×•×ª (39 ×©×¢×•×ª ×©×‘×•×¢×™×•×ª, 7.8 ×©×¢×•×ª ×‘×™×•×)

ðŸ’° ×©×›×¨ - ×˜×œ×¨×™×:
â€¢ ×¡× ×™×¤×™× ×¨×¦×•×¤×™×: ~8,030 â‚ª/×—×•×“×©, ×ž×ž×•×¦×¢ ×©× ×ª×™ ~9,300 â‚ª (×›×•×œ×œ 10 ×©"× )
â€¢ ×¡× ×™×¤×™× ×ž×¤×•×¦×œ×™×: ~9,200 â‚ª/×—×•×“×©, ×ž×ž×•×¦×¢ ×©× ×ª×™ ~10,400 â‚ª (×›×•×œ×œ ×¤×™×¦×•×œ×™× + 10 ×©"× )

ðŸŽ ×ž×¢× ×§×™× ×ž×™×•×—×“×™×:
â€¢ ×ž×¢× ×§ ×˜×œ×¨×™×: 7,000 â‚ª (3,500 â‚ª ××—×¨×™ 6 ×—×•×“×©×™× + 3,500 â‚ª ××—×¨×™ ×©× ×”)
â€¢ ×ž×¢× ×§ ×ª"× ×‘×œ×‘×“ (×˜×œ×¨×™× ×•×‘× ×§××™×): 13,000 â‚ª
  - ××—×¨×™ 3 ×—×•×“×©×™×: 3,000 â‚ª
  - ××—×¨×™ 6 ×—×•×“×©×™×: 5,000 â‚ª
  - ××—×¨×™ ×©× ×”: 5,000 â‚ª

ðŸ“‹ ×ª× ××™× ×¡×•×¦×™××œ×™×™×:
â€¢ 30 ×™×ž×™ ×ž×—×œ×” (×‘×ž×§×•× 18 ×‘×—×•×§!) + ×ª×©×œ×•× ×ž×œ× ×ž×™×•× ×¨××©×•×Ÿ
â€¢ ×”×—×–×¨ ×”×•×¦××•×ª ××©"×œ ×‘×”×ª×× ×œ×©×¢×•×ª ×¢×‘×•×“×”
â€¢ ×“×ž×™ ×”×‘×¨××” ×‘×©×™×¢×•×¨ ×’×‘×•×” ×ž×”×§×‘×•×¢ ×‘×—×•×§
â€¢ ×ª×•×¡×¤×ª ×•×ª×§ ××•×˜×•×ž×˜×™×ª ×œ×©×›×¨ ×ž×“×™ ×©× ×”

ðŸŽ„ ×©×™ ×•×ž×ª× ×•×ª:
â€¢ ×©×™ ×œ×¨××© ×”×©× ×” ×•×¤×¡×—: ~1,000 â‚ª ×‘×ª×•×•×™ ×§× ×™×™×”
â€¢ ×©×™ ×œ×™×ž×™ ×”×•×œ×“×ª, ×—×ª×•× ×”, ×œ×™×“×”, ×—×ª×•× ×ª ×™×œ×“×™×
â€¢ ××™×¨×•×¢×™ ×™×œ×“×™×: ×¢×œ×™×™×” ×œ×›×™×ª×” ×', ×‘×¨/×‘×ª ×ž×¦×•×•×”, ×’×™×•×¡ ×œ×¦×‘×

ðŸ’¼ ×§×¨×Ÿ ×”×©×ª×œ×ž×•×ª:
â€¢ ×˜×œ×¨×™×: ×§×¨×Ÿ ×”×©×ª×œ×ž×•×ª ×œ××—×¨ ×©× ×”

ðŸ–ï¸ ×”×˜×‘×•×ª × ×•×¤×© ×•×—×•×¤×©×”:
â€¢ ×©×•×‘×¨ × ×•×¤×© ×©× ×ª×™ ×œ××¨×¥ ××• ×—×•"×œ
â€¢ ×ž×‘×¦×¢×™× ×•×”× ×—×•×ª ×œ×—×•×¤×©×•×ª ×“×¨×š ×•×¢×“ ×”×¢×•×‘×“×™×

ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ×”×˜×‘×•×ª ×œ×ž×©×¤×—×”:
â€¢ ×”×—×–×¨ ×ª×©×œ×•×ž×™ ×’×Ÿ ×œ×™×œ×“×™× (×—×¦×™ ×©× ×” ×¢×“ 6) - ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”
â€¢ ×ª×©×œ×•× ×©×›×¨ ×œ×™×ž×•×“ ×œ×™×œ×“×™× 6-18: 1,500 â‚ª/×©× ×” ×œ×›×œ ×™×œ×“

ðŸ¥ ×‘×¨×™××•×ª ×•×‘×™×˜×•×—:
â€¢ ×‘×“×™×§×•×ª ×¡×§×¨ ×¨×¤×•××™×•×ª ×œ×¢×•×‘×“×™× ×ž×¢×œ ×’×™×œ 35
â€¢ ×‘×™×˜×•×— ×—×™×™× ×œ×¢×•×‘×“×™× ×§×‘×•×¢×™×

ðŸ¦ ×”×˜×‘×•×ª ×‘× ×§××™×•×ª (×œ××—×¨ 3 ×—×•×“×©×™×):
â€¢ "×§×•×“ ×¢×•×‘×“" ×‘×—×©×‘×•×Ÿ ×”×‘× ×§
â€¢ ×¤×˜×•×¨ ×ž×—×œ×§ ×ž×”×¢×ž×œ×•×ª
â€¢ ×”×œ×•×•××•×ª ×•×ž×©×›× ×ª× ×‘×ª× ××™× ×ž×•×¢×“×¤×™×

ðŸ“ˆ ×§×™×“×•× ×•×”×ª×¤×ª×—×•×ª:
â€¢ ××¤×©×¨×•×ª ×œ×‘×•× ×•×¡ ×©× ×ª×™ ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”
â€¢ ××¤×©×¨×•×ª ×œ×§×™×“×•× ×‘×“×¨×’×•×ª ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”`;

// ×“×¨×™×©×•×ª ×œ×˜×œ×¨×™×
const TELLER_REQUIREMENTS = `âœ… ×“×¨×™×©×•×ª ×”×ª×¤×§×™×“ - ×˜×œ×¨:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ×‘×•×’×¨×™ ×ª×™×›×•×Ÿ ×ž×œ× (12 ×©× ×•×ª ×œ×™×ž×•×“)
â€¢ ×¡×˜×•×“× ×˜×™× - ×™×ª×¨×•×Ÿ
â€¢ × ×™×¡×™×•×Ÿ ×‘×ª×¤×§×™×“×™ ×©×™×¨×•×ª ×•/××• ×§×•×¤×” - ×™×ª×¨×•×Ÿ

ðŸŽ¯ ×›×™×©×•×¨×™× ×•×›×©×¨×•× ×•×ª × ×“×¨×©×™×:
1. ×ª×•×“×¢×ª ×©×™×¨×•×ª ×’×‘×•×”×”
2. ×™×—×¡×™ ×× ×•×© ×ž×¦×•×™× ×™×
3. ×¡×‘×œ× ×•×ª ×•×¡×•×‘×œ× ×•×ª ×¢× ×§×”×œ×™× ×©×•× ×™×
4. ×¡×“×¨ ×•××¨×’×•×Ÿ ×ž×¢×•×œ×”
5. ×“×™×™×§× ×•×ª ×•×™×¡×•×“×™×•×ª ×‘×¢×‘×•×“×” ×¢× ×›×¡×¤×™×
6. ×–×¨×™×–×•×ª ×•×ž×”×™×¨×•×ª ×ª×’×•×‘×”
7. ×™×›×•×œ×ª ×œ×ž×™×“×” ×’×‘×•×”×”
8. ×™×•×©×¨×” ×•××ž×™× ×•×ª ×ž×™×¨×‘×™×ª

ðŸ’¡ ×ž×”×•×ª×™ ×œ×ª×¤×§×™×“:
â€¢ ×™×›×•×œ×ª ×œ×¢×‘×•×“ ×ª×—×ª ×œ×—×¥
â€¢ ×©×™×¨×•×ª ×¤×¨×•× ×˜××œ×™ ××™×›×•×ª×™
â€¢ ×¢×‘×•×“×” ×¢× ×ž×–×•×ž× ×™× ×•×§×•×¤×”
â€¢ ×¢×‘×•×“×ª ×¦×•×•×ª
â€¢ ×™×›×•×œ×ª ×œ×”×ª×ž×•×“×“ ×¢× ×œ×§×•×—×•×ª ×§×©×™×`;

// ×ª× ××™× ×•×”×˜×‘×•×ª ×œ×‘× ×§××™×
const BANKER_BENEFITS = `âœ¨ ×§×œ×™×˜×” ×•×”×¢×¡×§×”:
â€¢ ×§×œ×™×˜×” ×›×¢×•×‘×“×™ ×‘× ×§ ×ž×”×™×•× ×”×¨××©×•×Ÿ ×‘×›×œ ×”×ª×¤×§×™×“×™×
â€¢ ×§×‘×œ×ª ×§×‘×™×¢×•×ª ×œ××—×¨ 36 ×—×•×“×©×™× ×œ×¢×•×‘×“×™× ×”×ž×ª××™×ž×™×
â€¢ ×ž×©×¨×” ×ž×œ××”: 169 ×©×¢×•×ª ×—×•×“×©×™×•×ª (39 ×©×¢×•×ª ×©×‘×•×¢×™×•×ª, 7.8 ×©×¢×•×ª ×‘×™×•×)

ðŸ’° ×©×›×¨ - ×‘× ×§××™×:
â€¢ ×¡× ×™×¤×™× ×¨×¦×•×¤×™×: ~8,200 â‚ª/×—×•×“×©, ×ž×ž×•×¦×¢ ×©× ×ª×™ ~9,600 â‚ª (×›×•×œ×œ 10 ×©"× )
â€¢ ×¡× ×™×¤×™× ×ž×¤×•×¦×œ×™×: ~9,400 â‚ª/×—×•×“×©, ×ž×ž×•×¦×¢ ×©× ×ª×™ ~10,700 â‚ª (×›×•×œ×œ ×¤×™×¦×•×œ×™× + 10 ×©"× )

ðŸŽ ×ž×¢× ×§×™× ×ž×™×•×—×“×™×:
â€¢ ×ž×¢× ×§ ×ª"× ×‘×œ×‘×“ (×˜×œ×¨×™× ×•×‘× ×§××™×): 13,000 â‚ª
  - ××—×¨×™ 3 ×—×•×“×©×™×: 3,000 â‚ª
  - ××—×¨×™ 6 ×—×•×“×©×™×: 5,000 â‚ª
  - ××—×¨×™ ×©× ×”: 5,000 â‚ª

ðŸ“‹ ×ª× ××™× ×¡×•×¦×™××œ×™×™×:
â€¢ 30 ×™×ž×™ ×ž×—×œ×” (×‘×ž×§×•× 18 ×‘×—×•×§!) + ×ª×©×œ×•× ×ž×œ× ×ž×™×•× ×¨××©×•×Ÿ
â€¢ ×”×—×–×¨ ×”×•×¦××•×ª ××©"×œ ×‘×”×ª×× ×œ×©×¢×•×ª ×¢×‘×•×“×”
â€¢ ×“×ž×™ ×”×‘×¨××” ×‘×©×™×¢×•×¨ ×’×‘×•×” ×ž×”×§×‘×•×¢ ×‘×—×•×§
â€¢ ×ª×•×¡×¤×ª ×•×ª×§ ××•×˜×•×ž×˜×™×ª ×œ×©×›×¨ ×ž×“×™ ×©× ×”

ðŸŽ„ ×©×™ ×•×ž×ª× ×•×ª:
â€¢ ×©×™ ×œ×¨××© ×”×©× ×” ×•×¤×¡×—: ~1,000 â‚ª ×‘×ª×•×•×™ ×§× ×™×™×”
â€¢ ×©×™ ×œ×™×ž×™ ×”×•×œ×“×ª, ×—×ª×•× ×”, ×œ×™×“×”, ×—×ª×•× ×ª ×™×œ×“×™×
â€¢ ××™×¨×•×¢×™ ×™×œ×“×™×: ×¢×œ×™×™×” ×œ×›×™×ª×” ×', ×‘×¨/×‘×ª ×ž×¦×•×•×”, ×’×™×•×¡ ×œ×¦×‘×

ðŸ’¼ ×§×¨×Ÿ ×”×©×ª×œ×ž×•×ª:
â€¢ ×‘× ×§××™×: ×§×¨×Ÿ ×”×©×ª×œ×ž×•×ª ×ž×”×™×•× ×”×¨××©×•×Ÿ!

ðŸ–ï¸ ×”×˜×‘×•×ª × ×•×¤×© ×•×—×•×¤×©×”:
â€¢ ×©×•×‘×¨ × ×•×¤×© ×©× ×ª×™ ×œ××¨×¥ ××• ×—×•"×œ
â€¢ ×ž×‘×¦×¢×™× ×•×”× ×—×•×ª ×œ×—×•×¤×©×•×ª ×“×¨×š ×•×¢×“ ×”×¢×•×‘×“×™×

ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ×”×˜×‘×•×ª ×œ×ž×©×¤×—×”:
â€¢ ×”×—×–×¨ ×ª×©×œ×•×ž×™ ×’×Ÿ ×œ×™×œ×“×™× (×—×¦×™ ×©× ×” ×¢×“ 6) - ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”
â€¢ ×ª×©×œ×•× ×©×›×¨ ×œ×™×ž×•×“ ×œ×™×œ×“×™× 6-18: 1,500 â‚ª/×©× ×” ×œ×›×œ ×™×œ×“

ðŸ¥ ×‘×¨×™××•×ª ×•×‘×™×˜×•×—:
â€¢ ×‘×“×™×§×•×ª ×¡×§×¨ ×¨×¤×•××™×•×ª ×œ×¢×•×‘×“×™× ×ž×¢×œ ×’×™×œ 35
â€¢ ×‘×™×˜×•×— ×—×™×™× ×œ×¢×•×‘×“×™× ×§×‘×•×¢×™×

ðŸ¦ ×”×˜×‘×•×ª ×‘× ×§××™×•×ª (×œ××—×¨ 3 ×—×•×“×©×™×):
â€¢ "×§×•×“ ×¢×•×‘×“" ×‘×—×©×‘×•×Ÿ ×”×‘× ×§
â€¢ ×¤×˜×•×¨ ×ž×—×œ×§ ×ž×”×¢×ž×œ×•×ª
â€¢ ×”×œ×•×•××•×ª ×•×ž×©×›× ×ª× ×‘×ª× ××™× ×ž×•×¢×“×¤×™×

ðŸ“ˆ ×§×™×“×•× ×•×”×ª×¤×ª×—×•×ª:
â€¢ ××¤×©×¨×•×ª ×œ×‘×•× ×•×¡ ×©× ×ª×™ ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”
â€¢ ××¤×©×¨×•×ª ×œ×§×™×“×•× ×‘×“×¨×’×•×ª ×œ××—×¨ ×©× ×ª ×¢×‘×•×“×”`;

// ×“×¨×™×©×•×ª ×œ×‘× ×§××™×
const BANKER_REQUIREMENTS = `âœ… ×“×¨×™×©×•×ª ×”×ª×¤×§×™×“ - ×‘× ×§××™ ×œ×§×•×—×•×ª:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ×¢×“×™×¤×•×ª ×œ×‘×•×’×¨×™ ×ª×•××¨ ×‘×›×œ×›×œ×”/×ž× ×”"×¢/× ×™×”×•×œ
â€¢ ×ª×•××¨ ××§×“×ž××™ ×‘×ž×“×¢×™ ×”×—×‘×¨×” - ×ž×ª×§×‘×œ
â€¢ × ×™×¡×™×•×Ÿ ×‘×ª×¤×§×™×“×™ ×©×™×¨×•×ª ×•/××• ×ž×›×™×¨×” - ×—×©×•×‘ ×ž××•×“

ðŸŽ¯ ×›×™×©×•×¨×™× ×•×›×©×¨×•× ×•×ª × ×“×¨×©×™×:
1. ×ª×•×“×¢×ª ×©×™×¨×•×ª ×•×™×›×•×œ×ª ×œ×§×“× ×ž×›×™×¨×•×ª
2. ×™×—×¡×™ ×× ×•×© ×ž×¦×•×™× ×™× ×•×¢×‘×•×“×” ×‘×©×™×ª×•×£ ×¤×¢×•×œ×”
3. ×¡×‘×œ× ×•×ª ×•×¡×•×‘×œ× ×•×ª ×¢× ×§×”×œ×™× ×©×•× ×™×
4. ×¡×“×¨ ×•××¨×’×•×Ÿ ×ž×¢×•×œ×”
5. ×“×™×™×§× ×•×ª ×•×™×¡×•×“×™×•×ª
6. ×–×¨×™×–×•×ª ×•×ž×”×™×¨×•×ª ×ª×’×•×‘×”
7. ×™×›×•×œ×ª ×œ×ž×™×“×” ×’×‘×•×”×”
8. ×™×•×©×¨×” ×•××ž×™× ×•×ª ×ž×™×¨×‘×™×ª

ðŸ’¡ ×ž×”×•×ª×™ ×œ×ª×¤×§×™×“:
â€¢ ×™×›×•×œ×ª ×ž×›×™×¨×” ×˜×•×‘×” ×ž××•×“
â€¢ ×™×›×•×œ×ª ×œ×ª×¢×“×£ ×•×œ×”×¤×’×™×Ÿ ×ž×”×™×¨×•×ª ×ª×’×•×‘×”
â€¢ ×¢×‘×•×“×” ×ª×—×ª ×œ×—×¥ ×¢× ×©×™×¨×•×ª ×¤×¨×•× ×˜××œ×™ ××™×›×•×ª×™
â€¢ ×ž×¢× ×” ×˜×œ×¤×•× ×™ ×•×¢×ž×™×“×” ×‘×ž×˜×œ×•×ª ×¡× ×™×¤×™×•×ª
â€¢ ×¢×‘×•×“×ª ×¦×•×•×ª - ×’×™×‘×•×™ ×”×“×“×™ ×‘×™×Ÿ ×”×‘× ×§××™×
â€¢ ×™×›×•×œ×ª ×œ×”×ª×ž×•×“×“ ×¢× ×œ×§×•×—×•×ª ×§×©×™×
â€¢ ×™×›×•×œ×ª ×”×¡×‘×¨×” ×‘×¨×•×¨×” ×‘× ×•×©××™ ×—×©×‘×•×Ÿ ×•××©×¨××™`;

async function updateMizrahiPositions() {
  console.log('ðŸ¦ ×ž×¢×“×›×Ÿ ×ž×©×¨×•×ª ×‘× ×§ ×ž×–×¨×—×™...\n');

  // ×ž×¦×™××ª ×ž×¢×¡×™×§ ×‘× ×§ ×ž×–×¨×—×™
  const mizrahi = await prisma.employer.findFirst({
    where: { name: { contains: '×ž×–×¨×—×™' } }
  });

  if (!mizrahi) {
    console.log('âŒ ×œ× × ×ž×¦× ×ž×¢×¡×™×§ ×‘× ×§ ×ž×–×¨×—×™');
    return;
  }

  console.log(`âœ… × ×ž×¦× ×ž×¢×¡×™×§: ${mizrahi.name}\n`);

  // ×ž×¦×™××ª ×›×œ ×”×ž×©×¨×•×ª ×©×œ ×‘× ×§ ×ž×–×¨×—×™
  const positions = await prisma.position.findMany({
    where: { 
      employerId: mizrahi.id,
      active: true
    }
  });

  console.log(`ðŸ“Š × ×ž×¦××• ${positions.length} ×ž×©×¨×•×ª ×¤×¢×™×œ×•×ª\n`);

  let tellerCount = 0;
  let bankerCount = 0;

  for (const position of positions) {
    const title = position.title.toLowerCase();
    
    let description, requirements;
    
    if (title.includes('×˜×œ×¨')) {
      description = TELLER_BENEFITS;
      requirements = TELLER_REQUIREMENTS;
      tellerCount++;
    } else if (title.includes('×‘× ×§××™')) {
      description = BANKER_BENEFITS;
      requirements = BANKER_REQUIREMENTS;
      bankerCount++;
    } else {
      console.log(`âš ï¸ ×“×™×œ×•×’ ×¢×œ: ${position.title}`);
      continue;
    }

    await prisma.position.update({
      where: { id: position.id },
      data: {
        description,
        requirements
      }
    });

    console.log(`âœ… ${position.title}`);
  }

  console.log('\nðŸŽ‰ ×¡×™×•×!');
  console.log(`âœ… ×˜×œ×¨×™× ×¢×•×“×›× ×•: ${tellerCount}`);
  console.log(`âœ… ×‘× ×§××™× ×¢×•×“×›× ×•: ${bankerCount}`);
  console.log(`ðŸ“Š ×¡×”"×›: ${tellerCount + bankerCount} ×ž×©×¨×•×ª`);
}

updateMizrahiPositions()
  .catch(console.error)
  .finally(() => prisma.$disconnect());
