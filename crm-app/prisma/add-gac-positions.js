const { PrismaClient } = require('@prisma/client');
const p = new PrismaClient();

async function run() {
  // 1. ×¡×’×™×¨×ª ×ž×©×¨×ª ×™×•×¢×¥ ×©×™×¨×•×ª ×¤×¨×™×™× ×ž×•×˜×•×¨×¡ - ××•×™×©×”
  const primeClosed = await p.position.updateMany({
    where: { title: { contains: '×¤×¨×™×™× ×ž×•×˜×•×¨×¡' } },
    data: { active: false, closedAt: new Date() }
  });
  console.log('âœ… ×¡×’×¨×ª×™ ×ž×©×¨×ª ×¤×¨×™×™× ×ž×•×˜×•×¨×¡:', primeClosed.count);

  // 2. ×¢×“×›×•×Ÿ ×¡×•×›×Ÿ ×©×˜×— YES ×œ×ž×¨×›×– ×”××¨×¥ (×œ× ×¦×¤×•×Ÿ)
  const yesUpdated = await p.position.updateMany({
    where: { 
      title: { contains: '×¡×•×›×Ÿ' },
      employer: { name: { contains: 'YES' } }
    },
    data: { location: '×ž×¨×›×– ×”××¨×¥' }
  });
  console.log('âœ… ×¢×“×›× ×ª×™ ×¡×•×›×Ÿ ×©×˜×— YES ×œ×ž×¨×›×–:', yesUpdated.count);

  // 3. ×ž×¦×™××ª UNION
  const union = await p.employer.findFirst({ where: { name: { contains: 'UNION' } } });
  console.log('ðŸ“ ×ž×¢×¡×™×§:', union.name);

  // 4. ×”×•×¡×¤×ª ×ž×©×¨×•×ª GAC ×—×“×©×•×ª
  const pos1 = await p.position.create({
    data: {
      title: '×ž× ×”×œ/×ª ××•×œ× ×ª×¦×•×’×” - GAC ××©×“×•×“',
      description: `×ª×™××•×¨ ×”×ª×¤×§×™×“:
â€¢ ×’×™×•×¡ ×•× ×™×”×•×œ × ×¦×™×’ ×ž×›×™×¨×•×ª ×›×•×œ×œ ×”×›×©×¨×” ×•×”×•×‘×œ×” ×œ×¢×ž×™×“×” ×‘×™×¢×“×™×
â€¢ ×¢×ž×™×“×” ×‘×™×¢×“×™ ×ž×›×™×¨×•×ª ×‘×¡×‘×™×‘×” ×ª×—×¨×•×ª×™×ª ×ª×•×š ×”× ×¢×ª ×”×¦×•×•×ª×™× ×œ×ž×¦×•×™× ×•×ª
â€¢ ×ž×ª×Ÿ ×©×™×¨×•×ª ×—×“×©× ×™ ×œ×œ×§×•×—×•×ª ×”×ž×•×ª×’ ×ª×•×š ×¢×ž×™×“×” ×‘×™×¢×“×™ ×©×‘×™×¢×•×ª ×”×¨×¦×•×Ÿ
â€¢ ×§×™×“×•× ×©×™×ª×•×¤×™ ×¤×¢×•×œ×” ×œ×’×™×•×¡ ×œ×§×•×—×•×ª ×¢×¡×§×™×™× ×‘×¡×‘×™×‘×” ×”×œ×•×§××œ×™×ª ×•×™×¦×™×¨×ª ×”×–×“×ž× ×•×™×•×ª ×ž×›×™×¨×” ×—×“×©×•×ª
â€¢ ×‘×™×¦×•×¢ ×ž×©×™×ž×•×ª ×¨×•×—×‘×™×•×ª ×œ×‘×™×¡×•×¡ ×”×ž×•×ª×’ ×¢×œ ×¤×™ ×¦×¨×›×™× ×ž×©×ª× ×™×

ðŸ’° ×©×›×¨: 12,000 â‚ª ×‘×¡×™×¡ + ×‘×•× ×•×¡×™× + ×¨×›×‘ ×¦×ž×•×“`,
      requirements: `×“×¨×™×©×•×ª ×”×ª×¤×§×™×“:
âœ… × ×™×¡×™×•×Ÿ × ×™×”×•×œ×™ ×§×•×“× - ×—×•×‘×”
âœ… × ×™×¡×™×•×Ÿ ×ž×¢×•×œ× ×”×¨×›×‘ - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
âœ… × ×™×¡×™×•×Ÿ ×‘×ž×›×™×¨×•×ª ×¨×›×‘ ×—×“×© ×•×˜×¨×™×™×“ ××™×Ÿ
âœ… ×©×œ×™×˜×” ×˜×•×‘×” ×‘××§×¡×œ, POWER POINT
âœ… ×× ×’×œ×™×ª ×‘×¨×ž×” ×’×‘×•×”×”`,
      location: '××©×“×•×“',
      employerId: union.id,
      keywords: JSON.stringify(['×ž× ×”×œ', '××•×œ× ×ª×¦×•×’×”', 'GAC', '×¨×›×‘', '×ž×›×™×¨×•×ª', '× ×™×”×•×œ ×¦×•×•×ª', '×™×¢×“×™×', '××©×“×•×“', '×“×¨×•×', '× ×™×¡×™×•×Ÿ × ×™×”×•×œ×™', '×ž×›×™×¨×•×ª ×¨×›×‘', '×˜×¨×™×™×“ ××™×Ÿ', '×× ×’×œ×™×ª', '××§×¡×œ', '× ×™×”×•×œ', '×”×›×©×¨×”', '×œ×§×•×—×•×ª ×¢×¡×§×™×™×', '×‘×•× ×•×¡×™×', '×¨×›×‘ ×¦×ž×•×“']),
      active: true,
      priority: 10,
      openings: 1
    }
  });
  console.log('âœ… × ×•×¡×¤×”:', pos1.title);

  const pos2 = await p.position.create({
    data: {
      title: '× ×¦×™×’/×ª ×ž×›×™×¨×•×ª - GAC ×¨×¢× × ×”',
      description: `× ×¦×™×’ ×ž×›×™×¨×•×ª ×¨×›×‘ ×‘××•×œ× ×ª×¦×•×’×” GAC ×‘×¨×¢× × ×”.
â€¢ ×¢×‘×•×“×” ×ž×•×œ ×œ×§×•×—×•×ª ×¤×¨×˜×™×™× ×•×¢×¡×§×™×™×
â€¢ ×”×¦×’×ª ×¨×›×‘×™ GAC ×•×”×¡×‘×¨×” ×¢×œ ×™×ª×¨×•× ×•×ª ×”×“×’×ž×™×
â€¢ ×œ×™×•×•×™ ×œ×§×•×—×•×ª ×‘×ª×”×œ×™×š ×”×¨×›×™×©×” ×•×¡×’×™×¨×ª ×¢×¡×§××•×ª
â€¢ ×¢×ž×™×“×” ×‘×™×¢×“×™ ×ž×›×™×¨×•×ª`,
      requirements: `×“×¨×™×©×•×ª:
â€¢ × ×™×¡×™×•×Ÿ ×‘×ž×›×™×¨×•×ª - ×™×ª×¨×•×Ÿ
â€¢ ×™×—×¡×™ ×× ×•×© ×ž×¦×•×™× ×™×
â€¢ ×™×›×•×œ×ª ×¢×‘×•×“×” ×‘×™×¢×“×™×
â€¢ ×›×•×©×¨ ×©×›× ×•×¢
â€¢ × ×™×¡×™×•×Ÿ ×‘×¨×›×‘ - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™`,
      location: '×¨×¢× × ×”',
      employerId: union.id,
      keywords: JSON.stringify(['×ž×›×™×¨×•×ª', '×¨×›×‘', 'GAC', '×¨×¢× × ×”', '×©×¨×•×Ÿ', '×ž×¨×›×–', '××•×œ× ×ª×¦×•×’×”', '×¡×•×›× ×•×ª ×¨×›×‘', '×™×¢×“×™×', '×©×™×¨×•×ª ×œ×§×•×—×•×ª', '× ×¦×™×’ ×ž×›×™×¨×•×ª', '×¡×’×™×¨×ª ×¢×¡×§××•×ª', '×œ×§×•×—×•×ª ×¤×¨×˜×™×™×', '×œ×§×•×—×•×ª ×¢×¡×§×™×™×']),
      active: true,
      priority: 10,
      openings: 1
    }
  });
  console.log('âœ… × ×•×¡×¤×”:', pos2.title);

  const pos3 = await p.position.create({
    data: {
      title: '× ×¦×™×’/×ª × ×¡×™×¢×•×ª ×ž×‘×—×Ÿ - GAC',
      description: `× ×¦×™×’ × ×¡×™×¢×•×ª ×ž×‘×—×Ÿ ×‘×¨×›×‘×™ GAC.
â€¢ ×œ×™×•×•×™ ×œ×§×•×—×•×ª ×‘× ×¡×™×¢×•×ª ×ž×‘×—×Ÿ
â€¢ ×”×¡×‘×¨×” ×ž×§×¦×•×¢×™×ª ×¢×œ ×”×¨×›×‘ ×•×”×˜×›× ×•×œ×•×’×™×•×ª
â€¢ ×ž×ª×Ÿ ×—×•×•×™×™×ª × ×”×™×’×” ×ž×¢×•×œ×” ×œ×œ×§×•×—
â€¢ ×¢×‘×•×“×” ×‘×©×™×ª×•×£ ×¢× ×¦×•×•×ª ×”×ž×›×™×¨×•×ª`,
      requirements: `×“×¨×™×©×•×ª:
â€¢ ×¨×™×©×™×•×Ÿ × ×”×™×’×” ×‘×ª×•×§×£ - ×—×•×‘×”
â€¢ ×™×—×¡×™ ×× ×•×© ×ž×¦×•×™× ×™×
â€¢ ×™×“×¢ ×‘×¨×›×‘×™× - ×™×ª×¨×•×Ÿ
â€¢ ×¡×‘×œ× ×•×ª ×•×ª×§×©×•×¨×ª ×˜×•×‘×”
â€¢ ×™×™×¦×•×’×™×•×ª`,
      location: '×ž×¨×›×–',
      employerId: union.id,
      keywords: JSON.stringify(['× ×¡×™×¢×•×ª ×ž×‘×—×Ÿ', '×¨×›×‘', 'GAC', '× ×”×™×’×”', '×œ×§×•×—×•×ª', '×©×™×¨×•×ª', '×ž×¨×›×–', '×¡×•×›× ×•×ª ×¨×›×‘', 'test drive', '×™×™×¦×•×’×™×•×ª', '×ª×§×©×•×¨×ª', '×˜×›× ×•×œ×•×’×™×”']),
      active: true,
      priority: 10,
      openings: 1
    }
  });
  console.log('âœ… × ×•×¡×¤×”:', pos3.title);

  console.log('\nðŸŽ‰ ×¡×™×•×! × ×•×¡×¤×• 3 ×ž×©×¨×•×ª GAC ×—×“×©×•×ª ×œ×§×‘×•×¦×ª UNION');
}

run().catch(console.error).finally(() => p.$disconnect());
