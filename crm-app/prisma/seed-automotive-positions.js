const { PrismaClient } = require('@prisma/client')
const prisma = new PrismaClient()

async function main() {
  console.log('ðŸš€ Starting automotive positions seed...')

  // Get or create Prime Motors employer
  let primeMotorsEmployer = await prisma.employer.findFirst({
    where: { name: '×¤×¨×™×™× ×ž×•×˜×•×¨×¡' }
  })

  if (!primeMotorsEmployer) {
    primeMotorsEmployer = await prisma.employer.create({
      data: {
        name: '×¤×¨×™×™× ×ž×•×˜×•×¨×¡',
        email: 'jobs@primemotors.co.il',
        phone: '03-0000000',
        description: '×¤×¨×™×™× ×ž×•×˜×•×¨×¡ - ×™×‘×•××Ÿ ×¨×›×‘×™ ×˜×•×™×•×˜×”, GEELY, ZEEKR, FARIZON ×•-GAC'
      }
    })
    console.log('âœ… Prime Motors Employer created')
  }

  const positions = [
    {
      title: '×ª×•×ž×š ×˜×›× ×™',
      location: '×‘× ×™ ×¢×™×™×© - ×¤××¨×§ ×ª×¢×©×™×•×ª ×¨××',
      description: `× ×§×•×“×ª ×”×§×©×¨ ×”×ž×¨×›×–×™×ª ×‘×™×Ÿ ×”×ž× ×”×œ×™× ×”×˜×›× ×™×™× ×©×œ ×”×ž×•×ª×’×™× GEELY, ZEEKR, FARIZON ×•-GAC, ×œ×‘×™×Ÿ ×”×¦×•×•×ª×™× ×”×ž×§×¦×•×¢×™×™× ×”×ž×˜×¤×œ×™× ×‘×”×›× ×ª ×”×¨×›×‘ ×œ×ž×¡×™×¨×” (PDI).
×ª×ž×™×›×” ×˜×›× ×™×ª ×œ×¦×•×•×ª ×”×”×›× ×” ×œ×ž×¡×™×¨×” ×•×œ×ž×ª×§×™× ×™ ×”××‘×™×–×¨×™×, ×”×•×‘×œ×ª ×”×¦×•×•×ª ×”×˜×›× ×™ ×•×”×ž×ª×§×™× ×™× ×œ×‘×™×¦×•×¢ ×•×™×™×©×•× ×§×¨×™××•×ª ×©×™×¨×•×ª.
×§×™×“×•× ×ª×™×§×•×Ÿ ×ž×›×•× ×™×•×ª ×¤×’×•×¢×•×ª/×ž×ª×¢×›×‘×•×ª, ×©×™×¤×•×¨ ××™×›×•×ª ×”×ž×›×•× ×™×•×ª ×”× ×©×œ×—×•×ª ×œ×¡×•×›× ×•×™×•×ª, ×“×™×•×•×— ×œ×™×¦×¨×Ÿ ×¢×œ ×ª×§×œ×•×ª ××• ×‘×¢×™×•×ª ××™×›×•×ª.`,
      requirements: `×ª×¢×•×“×ª ×”× ×“×¡××™ ×¨×›×‘ / ×”× ×“×¡××™ ×—×©×ž×œ ×•××œ×§×˜×¨×•× ×™×§×” - ×™×ª×¨×•×Ÿ
3+ ×©× ×•×ª × ×™×¡×™×•×Ÿ ×‘×¢×‘×•×“×” ×‘×ž×•×¡×š - ×—×•×‘×”
×©× ×” × ×™×¡×™×•×Ÿ ×›×ž××‘×—×Ÿ ×ª×§×œ×•×ª - ×—×•×‘×”
×¢×‘×¨×™×ª ×•×× ×’×œ×™×ª - ×¨×ž×” ×˜×•×‘×” ×ž××•×“`,
      salaryRange: '12,000 â‚ª + ×¨×›×‘',
      employmentType: '×ž×©×¨×” ×ž×œ××”',
      active: true,
      tags: ['×ª×•×ž×š ×˜×›× ×™', '×”× ×“×¡××™ ×¨×›×‘', '×ž×•×¡×š', '×ž××‘×—×Ÿ ×ª×§×œ×•×ª', '×‘× ×™ ×¢×™×™×©', 'PDI', '×× ×’×œ×™×ª']
    },
    {
      title: '× ×¦×™×’ ×ž×›×™×¨×•×ª ×–×™×§×¨ (×–×ž× ×™) - 3 ×ª×§× ×™×',
      location: 'BIG ×’×œ×™×œ×•×ª',
      description: `×‘×™×¦×•×¢ ×ª×”×œ×™×š ×ž×›×™×¨×” ×ž×œ× ×©×œ ×¨×›×‘×™× ×•××‘×™×–×¨×™ ×¨×›×‘ × ×œ×•×•×™×, × ×™×”×•×œ ×”×§×©×¨ ×¢× ×”×œ×§×•×— ×“×¨×š ×›×œ ×©×œ×‘×™ ×”×ž×›×™×¨×” ×•×œ××—×¨×™×”, ×œ×¨×‘×•×ª ×ª×”×œ×™×›×™ ×˜×¨×™×™×“ ××™×Ÿ, ×ž×™×ž×•×Ÿ ×•×œ×™×¡×™× ×’.
× ×§×™×˜×ª ×¤×¢×™×œ×•×ª ×™×–×•×ž×” ×œ×ª×™××•× ×¤×’×™×©×•×ª ×¢× ×œ×§×•×—×•×ª ×—×“×©×™× ×•× ×™×”×•×œ, ×©×™×ž×•×¨ ×•×”×’×“×œ×ª ×ª×™×§ ×œ×§×•×—×•×ª ×§×™×™×.
×’×™×•×¡ ×œ×§×•×—×•×ª ×—×“×©×™× ×•×™×¦×™×¨×ª ×œ×™×“×™× ×•×ž×¢×§×‘ ×•×˜×™×¤×•×œ ×‘×œ×™×“×™×.
××—×¨×™×•×ª ×œ×¡×’×™×¨×•×ª ×ª×”×œ×™×š ×”×ž×›×™×¨×” ×•×¢×ž×™×“×” ×‘×™×¢×“×™ ××•×œ× ×”×ª×¦×•×’×” ×ª×•×š ×ž×§×¡×•× ×—×•×•×™×ª ×”×œ×§×•×—.`,
      requirements: `× ×™×¡×™×•×Ÿ ×‘×ž×›×™×¨×•×ª ×¤×¨×•× ×˜×œ×™×•×ª - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
× ×™×¡×™×•×Ÿ ×ž×¢×•×œ× ×”×¨×›×‘ - ×™×ª×¨×•×Ÿ
×¨×™×©×™×•×Ÿ ×¨×›×‘ ×¤×¨×˜×™ ×‘×ª×•×§×£ - ×—×•×‘×” (×•×ª×§ × ×”×™×’×” ×ž×¢×œ ×©× ×ª×™×™×, ×¡×™×•× ×ª×§×•×¤×ª × ×”×’ ×¦×¢×™×¨)
× ×™×¡×™×•×Ÿ ×‘× ×™×”×•×œ ×ª×™×§×™ ×œ×§×•×—×•×ª ×”×›×•×œ×œ ×’×™×•×¡ ×¢×¦×ž××™ ×©×œ ×œ×§×•×—×•×ª ×—×“×©×™× - ×™×ª×¨×•×Ÿ
×©×¢×•×ª ×¢×‘×•×“×”: ×ž×©×ž×¨×•×ª 9-18, 13-22, ×©×™×©×™ 9-15:00, ×©×‘×ª 10-19
×”×ª×—×™×™×‘×•×ª ×œ5-6 ×ž×©×ž×¨×•×ª ×‘×©×‘×•×¢
×¢×•×‘×“×™× ×©×‘×•×¢ ××—×“ ×©×™×©×™ ×©×‘×•×¢ ××—×“ ×©×‘×ª`,
      salaryRange: '55 â‚ª ×œ×©×¢×” + ×‘×•× ×•×¡×™×',
      employmentType: '×¢×‘×•×“×” ×–×ž× ×™×ª',
      active: true,
      tags: ['×ž×›×™×¨×•×ª', '×¨×›×‘', '×–×™×§×¨', '×’×œ×™×œ×•×ª', 'BIG', '×ž×©×ž×¨×•×ª', '×©×‘×ª', '×˜×¨×™×™×“ ××™×Ÿ', '×œ×™×¡×™× ×’']
    },
    {
      title: '×‘×•×—×Ÿ ×¨×›×‘',
      location: '×‘× ×™ ×¢×™×™×© - ××ª×¨ ×¨××',
      description: `×‘×™×¦×•×¢ ×–×™×”×•×™ ×¤×™×–×™ ×œ×¨×›×‘×™× ×‘×©×˜×—, ×‘×™×¦×•×¢ ×”×“×¤×¡×ª ×›×¨×˜×™×¡×™ ×¢×‘×•×“×” ×œ×¨×›×‘×™×.
×‘×“×™×§×ª ×ª×™×§×™ ×¨×™×©×•×™ ×•×—×ª×™×ž×” ×¢×œ ×›×œ ×ª×™×§ ×œ××—×¨ ××™×©×•×¨ ×”×¤×¨×˜×™×.
×‘×“×™×§×ª ×•×•×™ ×’×¨×™×¨×”, ×©×™× ×•×™×™ ×ž×‘× ×” ×•×”×ª×§× ×ª ×ž× ×’× ×•× ×™ × ×›×” ×œ×¨×›×‘×™×.`,
      requirements: `×ª×¢×•×“×ª ×‘×•×—×Ÿ ×¨×›×‘ ×ž×œ× - ×—×•×‘×”
× ×™×¡×™×•×Ÿ ×¨×œ×•×•× ×˜×™ - ×™×ª×¨×•×Ÿ`,
      salaryRange: '14,000-15,000 â‚ª',
      employmentType: '×ž×©×¨×” ×ž×œ××”',
      active: true,
      tags: ['×‘×•×—×Ÿ ×¨×›×‘', '×¨×™×©×•×™', '×‘× ×™ ×¢×™×™×©', '×©×™× ×•×™×™ ×ž×‘× ×”', '×ª×¢×•×“×”']
    },
    {
      title: '×ž×ª××/×ª ×ž×›×™×¨×•×ª ×˜×•×™×•×˜×”',
      location: '×ª×œ ××‘×™×‘ - ×™×’××œ ××œ×•×Ÿ 65',
      description: `×§×‘×œ×ª ×¤× ×™ ×”×œ×§×•×—×•×ª, ××™×¨×•×— ×”×ž×‘×§×¨×™× ×•×™×¦×™×¨×ª ×—×•×•×™×ª ×œ×§×•×— ×—×™×•×‘×™×ª ×‘××•×œ× ×”×ª×¦×•×’×”.
×ž×ª×Ÿ ×ž×¢× ×” ×¤×¨×•× ×˜×œ×™ ×•×˜×œ×¤×•× ×™ ×‘×“×¡×§ ×”×§×‘×œ×” ×•××—×¨×™×•×ª ×¢×œ ×˜×¨×§×œ×™×Ÿ ×”×”×ž×ª× ×” ×œ×¨×‘×•×ª ×§×™×•× ×›×™×‘×•×“, ×™×™×¦×•×’×™×•×ª ×”×˜×¨×§×œ×™×Ÿ, ×ž×›×•× ×ª ×§×¤×” ×•×›×•×œ×™.
×”×¤×§×ª ×¡×™×“×•×¨ ×¢×‘×•×“×” ×™×•×ž×™ ×œ×¨×‘×•×ª ××—×¨×™×•×ª ×¢×œ ×™×•×ž× ×™ ×”×ž×¡×™×¨×•×ª/× ×¡×™×¢×•×ª ×”×ª×¨×©×ž×•×ª/×¤×’×™×©×•×ª ×ž×›×™×¨×”.
×¢×‘×•×“×” ×ž×•×œ ×ž×ž×©×§×™× ×¤× ×™×ž×™×™× ×•×—×™×¦×•× ×™×™× - ×œ×§×•×—×•×ª, ×¨×©×ª ×¡×•×›× ×•×™×•×ª ×”×ž×©× ×”, ×¢×•×‘×“×™ ×”×—×‘×¨×” ×•×™×—×™×“×•×ª ×”×ž×˜×”.
×¢×‘×•×“×” ×ž×•×œ ×¡×¤×§×™× â€“ ×”×–×ž× ×ª ×¦×™×•×“, ×›×™×‘×•×“, ×ª×™××•× ×ž×•×‘×™×œ×™×•×ª ×•×›×“×•×ž×”.
××—×¨×™×•×ª ×¢×œ ×”×’×©×ª ×“×•×— ×©×œ×™×˜×” ×™×•×ž×™ ×œ×¦×™ ×¨×›×‘×™ ×”×”×“×’×ž×” ×•×ª×¤×¢×•×œ ×‘× ×™×”×•×œ ×”×¦×™ ×ž×•×œ ×ž× ×”×œ ×¦×•×•×ª ×©×™×¨×•×ª ×•×ª×¤×¢×•×œ.`,
      requirements: `×™×›×•×œ×ª ×ª×§×©×•×¨×ª×™×ª ×ž×¤×•×ª×—×ª, ×ª×•×“×¢×ª ×©×™×¨×•×ª ×•×¡×‘×œ× ×•×ª
×™×›×•×œ×ª ×¢×‘×•×“×” ×ª×—×ª ×¢×•×ž×¡×™× ×‘×¡×‘×™×‘×” ×“×™× ××ž×™×ª ×ž×•×œ ×œ×§×•×—×•×ª ×•×—×‘×¨×™ ×”×¦×•×•×ª
12 ×©× ×•×ª ×œ×™×ž×•×“, ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™ ×œ×‘×¢×œ×™ ×‘×’×¨×•×ª ×ž×œ××” ×•/××• ×ª×•××¨ ×¨××©×•×Ÿ
× ×™×¡×™×•×Ÿ ×ª×¢×¡×•×§×ª×™ ×©×œ ×©× ×” ×•×ž×¢×œ×” ×‘×ª×—×•× ×©×™×¨×•×ª ×œ×§×•×—×•×ª ×¤×¨×•× ×˜×œ×™/××“×ž×™× ×™×¡×˜×¨×¦×™×”
×©×œ×™×˜×” ×‘×™×™×©×•×ž×™ ×”××•×¤×™×¡. ×”×™×›×¨×•×ª ×¢× ×ž×¢×¨×›×ª ×ª×¤× ×™×ª, ×ž×™×§×¨×•×¡×•×¤×˜ ×“×™× ×ž×™×§×¡ - ×™×ª×¨×•×Ÿ
×× ×’×œ×™×ª ×‘×¨×ž×” ×˜×•×‘×” - ×™×›×•×œ×ª ×œ× ×”×œ ×©×™×—×” ×¢× ×œ×§×•×—×•×ª - ×™×ª×¨×•×Ÿ
×™×ž×™ ×©×™×©×™ 08:00-14:00 ×§×‘×•×¢
×'-×”' 8:30-18:00 ×™×•× ××—×“ ×—×•×¤×©×™ ×‘××ž×¦×¢ ×©×‘×•×¢`,
      salaryRange: '×©×›×¨ ×‘×¡×™×¡ 8,000 â‚ª + ×¢×ž×œ×•×ª ×•×¤×¨×ž×™×•×ª 1,500-2,000 â‚ª + ×§×”"×© + ×¡×™×‘×•×¡',
      employmentType: '×ž×©×¨×” ×ž×œ××”',
      active: true,
      tags: ['×ž×ª×× ×ž×›×™×¨×•×ª', '×˜×•×™×•×˜×”', '×ª×œ ××‘×™×‘', '×©×™×¨×•×ª ×œ×§×•×—×•×ª', '××“×ž×™× ×™×¡×˜×¨×¦×™×”', '××•×¤×™×¡', '×ª×¤× ×™×ª']
    },
    {
      title: '×ž× ×”×œ/×ª ×—×©×‘×•× ×•×ª - ×”×—×œ×¤×” ×œ×—×œ"×“',
      location: '×ª×œ ××‘×™×‘ - ×¨×ž×ª ×”×—×™×™×œ',
      description: `×œ×§×•×—×•×ª - ×”×¤×§×ª ×—×©×‘×•× ×™×•×ª, ×’×‘×™×™×”, ×–×™×›×•×™×™×, ×§×‘×œ×•×ª ×•×”×ª××ž×ª ×›×¨×˜×¡×•×ª.
×›×¨×˜×™×¡×™ ××©×¨××™ â€“ ×§×œ×™×˜×ª ×§×‘×¦×™×, ×—×©×‘×•× ×™×•×ª ×•×”×ª××ž×” ×ž×•×œ ×—×‘×¨×•×ª ×”××©×¨××™.
×‘× ×§×™× - ×”×¤×§×“×•×ª, ×ž×¢×§×‘ ×•×‘×§×¨×”, ×”×ª××ž×” ×™×•×ž×™×ª.
×¡×¤×§×™× - ×§×œ×™×˜×ª ×—×©×‘×•× ×™×•×ª ×•×¨×™×©×•× ×‘×ž×•×“×•×œ ×¨×›×•×© ×§×‘×•×¢ ×‘×ž×™×“×ª ×”×¦×•×¨×š.
×”×ª××ž×ª ×›×¨×˜×¡×•×ª ×•×˜×™×¤×•×œ ×‘×§×•×¤×•×ª ×§×˜× ×•×ª.`,
      requirements: `×ª×¢×•×“×ª ×ž× ×”×œ/×ª ×—×©×‘×•× ×•×ª ×¡×•×’ 2 - ×—×•×‘×”
× ×™×¡×™×•×Ÿ ×§×•×“× ×›×ž× ×”×œ/×ª ×—×©×‘×•× ×•×ª ×‘×ž×©×š ×©× ×ª×™×™× - ×—×•×‘×”
×™×“×¢ ×‘××§×¡×œ
×™×“×¢ ×‘×¤×¨×™×•×¨×™×˜×™`,
      salaryRange: '×œ×¤×™ × ×™×¡×™×•×Ÿ',
      employmentType: '×”×—×œ×¤×” ×œ×—×œ"×“',
      active: true,
      tags: ['×ž× ×”×œ×ª ×—×©×‘×•× ×•×ª', '×—×©×‘×•× ××•×ª', '×ª×œ ××‘×™×‘', '×¤×¨×™×•×¨×™×˜×™', 'Excel', '×’×‘×™×™×”', '×–×™×›×•×™×™×']
    },
    {
      title: '×™×•×¢×¥/×ª ×©×™×¨×•×ª ×œ×¤×¨×™×™× ×ž×•×˜×•×¨×¡',
      location: '×—×™×¤×”',
      description: `×œ×”×•×•×ª ×’×•×¨× ×”×ž×§×©×¨ ×‘×™×Ÿ ×ž×¨×›×– ×”×©×™×¨×•×ª ×œ×‘×™×Ÿ ×”×œ×§×•×— ×‘×–×ž×Ÿ ×”×‘×™×§×•×¨ ×‘×ž×¨×›×– ×”×©×™×¨×•×ª ×•×œ××—×¨×™×•.
×™×¦×™×¨×ª ×—×•×•×™×ª ×©×™×¨×•×ª ××™×›×•×ª×™×ª ×œ×œ×§×•×— ×•×”×¢×œ××ª ×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ ×”×œ×§×•×—×•×ª.
×ž×§×¡×•× ×¤×•×˜× ×¦×™××œ ×ž×›×™×¨×” ×ª×•×š ×©×™×ž×•×¨ ×œ×§×•×—×•×ª ×œ××•×¨×š ×–×ž×Ÿ.`,
      requirements: `× ×™×¡×™×•×Ÿ ×‘×ª×¤×§×™×“×™ ×ž×›×™×¨×•×ª/×©×™×¨×•×ª - ×—×•×‘×”
× ×™×¡×™×•×Ÿ ×§×•×“× ×‘×ª×¤×§×™×“ ×™×•×¢×¥/×ª ×©×™×¨×•×ª - ×™×ª×¨×•×Ÿ
×©×œ×™×˜×” ×ž×œ××” ×‘×ª×•×›× ×•×ª OFFICE
×”×‘× ×” ×˜×›× ×™×ª ×‘×¡×™×¡×™×ª
×©×¢×•×ª ×¢×‘×•×“×”: ×-×” 7:30-16:30 + ×©×™×©×™ ×œ×¡×™×¨×•×’×™×Ÿ ×¢×“ 13:30`,
      salaryRange: '8,500 â‚ª + ×‘×•× ×•×¡×™× (×ž×ž×•×¦×¢ ×©×›×¨ 13,000-14,000 â‚ª)',
      employmentType: '×ž×©×¨×” ×ž×œ××”',
      active: true,
      tags: ['×™×•×¢×¥ ×©×™×¨×•×ª', '×©×™×¨×•×ª ×œ×§×•×—×•×ª', '×—×™×¤×”', '×ž×›×™×¨×•×ª', '×¨×›×‘', 'Office']
    }
  ]

  console.log(`ðŸ“¦ Creating ${positions.length} automotive positions...`)

  for (const posData of positions) {
    const tags = posData.tags
    delete posData.tags

    const position = await prisma.position.create({
      data: {
        ...posData,
        employerId: primeMotorsEmployer.id,
        openings: posData.title.includes('3 ×ª×§× ×™×') ? 3 : 1,
        priority: 5
      }
    })

    // Create tags
    if (tags && tags.length > 0) {
      for (const tagName of tags) {
        let tag = await prisma.tag.findFirst({
          where: { name: tagName }
        })

        if (!tag) {
          tag = await prisma.tag.create({
            data: {
              name: tagName,
              category: 'skill'
            }
          })
        }

        await prisma.position.update({
          where: { id: position.id },
          data: {
            tags: {
              connect: { id: tag.id }
            }
          }
        })
      }
    }

    console.log(`âœ… Created: ${posData.title} - ${posData.location}`)
  }

  console.log('ðŸŽ‰ Automotive positions seeded successfully!')
}

main()
  .catch((e) => {
    console.error('âŒ Error seeding automotive positions:', e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
