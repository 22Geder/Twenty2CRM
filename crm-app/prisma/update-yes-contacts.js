const { PrismaClient } = require('@prisma/client')
const prisma = new PrismaClient()

async function main() {
  console.log('ðŸ”§ ×ž×¢×“×›×Ÿ ×¤×¨×˜×™ ×§×©×¨ ×œ×ž×©×¨×•×ª YES...')

  // ×ž×¦× ××ª ×”×ž×¢×¡×™×§ YES
  const yesEmployer = await prisma.employer.findFirst({
    where: { name: { contains: 'yes', mode: 'insensitive' } }
  })

  if (!yesEmployer) {
    console.log('âŒ ×œ× × ×ž×¦× ×ž×¢×¡×™×§ YES')
    return
  }

  console.log(`âœ… × ×ž×¦× ×ž×¢×¡×™×§ YES: ${yesEmployer.id}`)

  // =============================================================
  // ×¤×¨×˜×™ ×”×¨×›×–×™×
  // =============================================================
  
  // ×©×™×¨ ×‘× ×™×•× ×™×¡ - ×¨×›×–×ª × ×©×¨
  const shirContact = {
    contactName: '×©×™×¨ ×‘× ×™×•× ×™×¡ - Shir Benyunes',
    contactEmail: 'SBenyunes@yes.co.il',
    phone: '052-6152101',
    interviewInfo: '×¨××™×•×Ÿ ×¤×¨×•× ×˜×œ×™ ×‘× ×©×¨ ×›×œ ×™×•× ×‘×™×Ÿ 9:00-14:00. ×™×© ×œ×¢×“×›×Ÿ ××ª ×©×™×¨ ×‘×ž×•×¢×“ ×”×¨××™×•×Ÿ.'
  }

  // × ×•×¤×¨ ×§×¦×‘ ××‘×©×¨×™ - ×¨×›×–×ª ×‘"×© ×•×›×¤×¨ ×¡×‘×
  const nofarContact = {
    contactName: '× ×•×¤×¨ ×§×¦×‘ ××‘×©×¨×™ - Nofar Katzav avshari',
    contactEmail: 'NKatzavavsha@yes.co.il',
    phone: '050-6954194'
  }

  // =============================================================
  // ×¢×“×›×•×Ÿ/×™×¦×™×¨×ª ×ž×©×¨×•×ª × ×©×¨ - ×©×™×¨
  // =============================================================
  
  console.log('\nðŸ“‹ ×ž×©×¨×•×ª × ×©×¨ (×©×™×¨):')
  
  // 1. × ×¦×™×’ ×ž×›×™×¨×•×ª × ×©×¨
  await upsertPosition({
    employerId: yesEmployer.id,
    title: '× ×¦×™×’/×ª ×ž×›×™×¨×•×ª × ×©×¨',
    location: '× ×©×¨',
    description: `ðŸŽ¯ ×ž×•×§×“ ×ž×›×™×¨×•×ª YES ×‘× ×©×¨

×‘×™×¦×•×¢ ×©×™×—×•×ª ×™×•×¦××•×ª/×§×‘×œ×ª ×©×™×—×•×ª × ×›× ×¡×•×ª ×ž×§×”×œ ×œ×§×•×—×•×ª ×¤×•×˜× ×¦×™××œ×™×™× ×©×”×ª×¢× ×™×™×Ÿ ×‘××ª×¨/×”×ª×§×©×¨ ×œ×ž×•×§×“/×”×©××™×¨ ×¤× ×™×” ×‘×¤×™×™×¡×‘×•×§ ×©×œ YES.
×”×ª×¤×§×™×“ ×›×•×œ×œ ×”×¦×’×ª ×™×ª×¨×•× ×•×ª ×”×ž×•×¦×¨/×”×©×™×¨×•×ª ×•×”×ª××ž×ª×• ×œ×¦×•×¨×›×™ ×”×œ×§×•×—, × ×™×”×•×œ ×ª×”×œ×™×š ×”×ž×›×™×¨×” ×ž×§×¦×” ×œ×§×¦×”, ×¢×ž×™×“×” ×‘×™×¢×“×™ ×ž×›×™×¨×” ××™×©×™×™×.

ðŸ“ž ×¨××™×•× ×•×ª: ×¤×¨×•× ×˜×œ×™ ×‘× ×©×¨ ×›×œ ×™×•× ×‘×™×Ÿ 9:00-14:00
âœ‰ï¸ ×™×© ×œ×¢×“×›×Ÿ ××ª ×©×™×¨ ×‘×ž×•×¢×“ ×”×¨××™×•×Ÿ`,
    requirements: `××•×¨×™×™× ×˜×¦×™×” ×ž×›×™×¨×ª×™×ª - ×—×•×‘×”
× ×™×¡×™×•×Ÿ ×‘×ž×•×§×“×™ ×©×™×¨×•×ª/×©×™×ž×•×¨/×ž×›×™×¨×” - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
×™×›×•×œ×ª ×¢×‘×•×“×” ×‘×¡×‘×™×‘×” ×ž×ž×•×—×©×‘×ª - ×—×•×‘×”
×”×™×©×’×™×•×ª ×•×ª×—×¨×•×ª×™×•×ª
×›×•×©×¨ ×‘×™×˜×•×™ ×•×™×›×•×œ×ª ×©×›× ×•×¢
×¢×‘×•×“×” ×ª×—×ª ×œ×—×¥
×ž×©×ž×¢×ª ×¢×¦×ž×™×ª ×’×‘×•×”×”`,
    salaryRange: '×©×›×¨ ×‘×¡×™×¡ 34.30 â‚ª ×œ×©×¢×” + ×‘×•× ×•×¡ ×ž×ž×•×¦×¢ 2,700 â‚ª ×œ×œ× ×ª×§×¨×•×ª',
    contactName: shirContact.contactName,
    contactEmail: shirContact.contactEmail,
    keywords: ['×ž×›×™×¨×•×ª', '×ž×•×§×“', '× ×©×¨', 'yes', '×™×¡', '×˜×œ×¡×™×™×œ×¡', '×œ×™×“×™× ×—×ž×™×', '×©×™×—×•×ª ×™×•×¦××•×ª', '×ª×§×©×•×¨×ª', '×˜×œ×•×•×™×–×™×”']
  })

  // 2. × ×¦×™×’ ×©×™×¨×•×ª ×•×ª×ž×™×›×” × ×©×¨
  await upsertPosition({
    employerId: yesEmployer.id,
    title: '× ×¦×™×’/×ª ×©×™×¨×•×ª ×•×ª×ž×™×›×” × ×©×¨',
    location: '× ×©×¨',
    description: `ðŸŽ§ ×ž×•×§×“ ×©×™×¨×•×ª ×•×ª×ž×™×›×” YES ×‘× ×©×¨

×ž×ª×Ÿ ×ž×¢× ×” ×œ×œ×§×•×—×•×ª ×”×—×‘×¨×” ×‘× ×•×©××™× ×©×•× ×™×: ×”×•×¡×¤×ª ×©×™×¨×•×ª×™×, ×ž×¢×‘×¨×™ ×“×™×¨×”, ×˜×™×¤×•×œ ×‘×ª×§×œ×•×ª, ×”×¡×‘×¨ ×ž×™×“×¢ ×¢×œ ×—×©×‘×•× ×™×•×ª, ×•×©×™×ž×•×¨ ×œ×§×•×—×•×ª.
×ª×ž×™×›×” ×˜×›× ×™×ª ×ž×¨×—×•×§, ×”×“×¨×›×” ×•×œ×™×•×•×™ ×”×œ×§×•×— ×‘×©×œ×˜ ×¨×—×•×§ ×œ×¤×ª×¨×•×Ÿ ×ª×§×œ×•×ª.

ðŸ“ž ×¨××™×•× ×•×ª: ×¤×¨×•× ×˜×œ×™ ×‘× ×©×¨ ×›×œ ×™×•× ×‘×™×Ÿ 9:00-14:00
âœ‰ï¸ ×™×© ×œ×¢×“×›×Ÿ ××ª ×©×™×¨ ×‘×ž×•×¢×“ ×”×¨××™×•×Ÿ`,
    requirements: `×™×›×•×œ×ª ×¢×‘×•×“×” ×‘×¡×‘×™×‘×” ×ž×ž×•×—×©×‘×ª
×›×•×©×¨ ×‘×™×˜×•×™ ×˜×•×‘
×™×—×¡×™ ×× ×•×©
×¡×‘×œ× ×•×ª ×•××ž×¤×ª×™×”
×™×›×•×œ×ª ×¢×‘×•×“×” ×ª×—×ª ×œ×—×¥
× ×›×•× ×•×ª ×œ×¢×‘×•×“×” ×‘×ž×©×ž×¨×•×ª
×™×“×¢ ×˜×›× ×™ - ×™×ª×¨×•×Ÿ`,
    salaryRange: '34.30 â‚ª ×œ×©×¢×” + 3,000 â‚ª ×‘×•× ×•×¡ (×˜×•×•×— ×—×•×“×©×™ 8-9K)',
    contactName: shirContact.contactName,
    contactEmail: shirContact.contactEmail,
    keywords: ['×©×™×¨×•×ª ×œ×§×•×—×•×ª', '×ª×ž×™×›×” ×˜×›× ×™×ª', '×ž×•×§×“', '× ×©×¨', 'yes', '×™×¡', 'call center', '×ª×§×©×•×¨×ª', '×©×™×ž×•×¨', 'WhatsApp']
  })

  // =============================================================
  // ×¢×“×›×•×Ÿ/×™×¦×™×¨×ª ×ž×©×¨×•×ª ×‘××¨ ×©×‘×¢ - × ×•×¤×¨ (×¨××™×•×Ÿ ×˜×œ×¤×•× ×™)
  // =============================================================
  
  console.log('\nðŸ“‹ ×ž×©×¨×•×ª ×‘××¨ ×©×‘×¢ (× ×•×¤×¨ - ×¨××™×•×Ÿ ×˜×œ×¤×•× ×™):')

  await upsertPosition({
    employerId: yesEmployer.id,
    title: '× ×¦×™×’/×ª ×©×™×¨×•×ª ×•×ª×ž×™×›×” ×‘××¨ ×©×‘×¢',
    location: '×‘××¨ ×©×‘×¢',
    description: `ðŸŽ§ ×ž×•×§×“ ×©×™×¨×•×ª ×•×ª×ž×™×›×” YES ×‘×‘××¨ ×©×‘×¢

×ž×ª×Ÿ ×ž×¢× ×” ×œ×œ×§×•×—×•×ª ×”×—×‘×¨×” ×‘× ×•×©××™× ×©×•× ×™×: ×”×•×¡×¤×ª ×©×™×¨×•×ª×™×, ×ž×¢×‘×¨×™ ×“×™×¨×”, ×˜×™×¤×•×œ ×‘×ª×§×œ×•×ª, ×”×¡×‘×¨ ×ž×™×“×¢ ×¢×œ ×—×©×‘×•× ×™×•×ª, ×•×©×™×ž×•×¨ ×œ×§×•×—×•×ª.
×ª×ž×™×›×” ×˜×›× ×™×ª ×ž×¨×—×•×§, ×”×“×¨×›×” ×•×œ×™×•×•×™ ×”×œ×§×•×— ×‘×©×œ×˜ ×¨×—×•×§ ×œ×¤×ª×¨×•×Ÿ ×ª×§×œ×•×ª.

ðŸ“ž ×¨××™×•× ×•×ª: ×˜×œ×¤×•× ×™×™× ×¢×œ ×™×“×™ × ×•×¤×¨ ×”×¨×›×–×ª
âœ‰ï¸ ×™×© ×œ×”×¢×‘×™×¨ ×¤×¨×˜×™ ×ž×•×¢×ž×“×™× ×‘×ž×™×™×œ + ×œ× ×™×œ×•×¡×•×¤×˜`,
    requirements: `×™×›×•×œ×ª ×¢×‘×•×“×” ×‘×¡×‘×™×‘×” ×ž×ž×•×—×©×‘×ª
×›×•×©×¨ ×‘×™×˜×•×™ ×˜×•×‘
×™×—×¡×™ ×× ×•×©
×¡×‘×œ× ×•×ª ×•××ž×¤×ª×™×”
×™×›×•×œ×ª ×¢×‘×•×“×” ×ª×—×ª ×œ×—×¥
× ×›×•× ×•×ª ×œ×¢×‘×•×“×” ×‘×ž×©×ž×¨×•×ª
×™×“×¢ ×˜×›× ×™ - ×™×ª×¨×•×Ÿ`,
    salaryRange: '34.30 â‚ª ×œ×©×¢×” + 3,000 â‚ª ×‘×•× ×•×¡ (×˜×•×•×— ×—×•×“×©×™ 8-9K)',
    contactName: nofarContact.contactName,
    contactEmail: nofarContact.contactEmail,
    keywords: ['×©×™×¨×•×ª ×œ×§×•×—×•×ª', '×ª×ž×™×›×” ×˜×›× ×™×ª', '×ž×•×§×“', '×‘××¨ ×©×‘×¢', '× ×’×‘', '×“×¨×•×', 'yes', '×™×¡', 'call center', '×ª×§×©×•×¨×ª', '×©×™×ž×•×¨']
  })

  // =============================================================
  // ×¢×“×›×•×Ÿ/×™×¦×™×¨×ª ×ž×©×¨×•×ª ×›×¤×¨ ×¡×‘× - × ×•×¤×¨ (×¨××™×•×Ÿ ×¤×¨×•× ×˜×œ×™)
  // =============================================================
  
  console.log('\nðŸ“‹ ×ž×©×¨×•×ª ×›×¤×¨ ×¡×‘× (× ×•×¤×¨ - ×¨××™×•×Ÿ ×¤×¨×•× ×˜×œ×™):')

  // ×¡×•×›×Ÿ ×ž×›×™×¨×•×ª ×©×˜×— ×¢×¡×§×™
  await upsertPosition({
    employerId: yesEmployer.id,
    title: '×¡×•×›×Ÿ/×ª ×ž×›×™×¨×•×ª ×©×˜×— ×¢×¡×§×™',
    location: '×ž×¨×›×– / ×›×¤×¨ ×¡×‘×',
    description: `ðŸš— ×¡×•×›×Ÿ ×ž×›×™×¨×•×ª ×©×˜×— ×œ×ž×’×–×¨ ×¢×¡×§×™ - YES

×ž×›×™×¨×ª ×ž×•×¦×¨×™ ×•×©×™×¨×•×ª×™ ×”×—×‘×¨×” ×œ×‘×ª×™ ×¢×¡×§ ×‘×™× ×•× ×™×™× ×•×’×“×•×œ×™×, ××™×ª×•×¨ ×œ×§×•×—×•×ª ×¤×•×˜× ×¦×™××œ×™×™× ×•×ª××•× ×¤×’×™×©×•×ª ×ž×›×™×¨×”.
×‘×™×¦×•×¢ ×¤×’×™×©×•×ª ×”×ž×›×™×¨×” ×•×ž×•"×ž ×œ×¡×’×™×¨×ª ×”×¢×¡×§××•×ª, ××—×¨×™×•×ª ××™×©×™×ª ×•×œ×™×•×•×™ ×ª×”×œ×™×š ×”×¦×˜×¨×¤×•×ª ×”×œ×§×•×—.
×¢×‘×•×“×” ×ž×•×œ ×ž×ž×©×§×™× ×¤× ×™× ×•×—×•×¥ ××¨×’×•× ×™×™×, ×¢×ž×™×“×” ×‘×™×¢×“×™ ×”×ž×›×™×¨×•×ª.

ðŸ“ž ×¨××™×•× ×•×ª: ×¤×¨×•× ×˜×œ×™ ×‘×›×¤×¨ ×¡×‘× ×ž×•×œ × ×•×¤×¨`,
    requirements: `× ×™×¡×™×•×Ÿ ×‘×ž×›×™×¨×•×ª - ×—×•×‘×”
×”×›×¨×•×ª ×¢× ×”×ž×’×–×¨ ×”×¢×¡×§×™ - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
×¨×§×¢ ×˜×›× ×™ - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
×“×¨×™×™×‘ ×œ×ž×›×™×¨×•×ª ×•× ×›×•× ×•×ª ×œ×¢×‘×•×“×ª ×©×˜×—
×™×—×¡×™ ×× ×•×© ×ž×¦×•×™×™× ×™×
×¨×™×©×™×•×Ÿ × ×”×™×’×” - ×—×•×‘×”`,
    salaryRange: '×©×›×¨ ×‘×¡×™×¡ 8,000 â‚ª + ×‘×•× ×•×¡ ×œ×œ× ×ª×§×¨×” + ×¨×›×‘ + ×¡×œ×•×œ×¨×™ + ×˜×‘×œ×˜ + 10×‘×™×¡',
    contactName: nofarContact.contactName,
    contactEmail: nofarContact.contactEmail,
    keywords: ['×ž×›×™×¨×•×ª ×©×˜×—', 'B2B', '×¢×¡×§×™', '×¡×•×›×Ÿ', '×¨×›×‘ ×¦×ž×•×“', 'yes', '×™×¡', '×ž×¨×›×–', '×›×¤×¨ ×¡×‘×', '×¢×¦×ž××™', '×©×˜×—']
  })

  // ××—×¨××™ ×ª×™×§ ×œ×§×•×— ×¢×¡×§×™
  await upsertPosition({
    employerId: yesEmployer.id,
    title: '××—×¨××™/×ª ×ª×™×§ ×œ×§×•×— ×¢×¡×§×™',
    location: '×›×¤×¨ ×¡×‘×',
    description: `ðŸ’¼ ××—×¨××™ ×ª×™×§ ×œ×§×•×— ×¢×¡×§×™ - YES

×ž×ª×Ÿ ×ž×¢× ×” ×˜×œ×¤×•× ×™ ×œ×œ×§×•×—×•×ª ×”×¢×¡×§×™×™× ×©×œ ×”×—×‘×¨×”, ×ž×ª×Ÿ ×©×™×¨×•×ª ×•×ž×›×™×¨×” ×œ×ª×™×§ ×”×œ×§×•×— ×”×¢×¡×§×™.
×ž×™×ž×•×© ×”×¤×•×˜× ×¦×™××œ ×”×¢×¡×§×™ ×©×œ ×”×œ×§×•×— ×‘××ž×¦×¢×•×ª ×”×•×¡×¤×ª ×ž× ×•×™×™×, ×©×™×¨×•×ª×™× ×•×ž×•×¦×¨×™×.
××—×¨×™×•×ª ×ž×¢×¨×›×ª×™×ª ×œ× ×™×”×•×œ ×§×©×¨ ×¢× ×”×œ×§×•×— ×”×¢×¡×§×™ ×œ×˜×•×•×— ×”××¨×•×š, ×©×ž×™×¨×” ×¢×œ ×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ ×’×‘×•×”×”.

ðŸ“ž ×¨××™×•× ×•×ª: ×¤×¨×•× ×˜×œ×™ ×‘×›×¤×¨ ×¡×‘× ×ž×•×œ × ×•×¤×¨`,
    requirements: `× ×™×¡×™×•×Ÿ ×©×œ ×©× ×” ×œ×¤×—×•×ª ×‘×ª×¤×§×™×“×™ ×©×™×¨×•×ª ×•/××• ×ž×›×™×¨×” - ×™×ª×¨×•×Ÿ ×ž×©×ž×¢×•×ª×™
× ×™×¡×™×•×Ÿ ×‘×¢×‘×•×“×” ×¢× ×ž×¢×¨×›×•×ª ×ž×ž×•×—×©×‘×•×ª - ×—×•×‘×”
×©×™×¨×•×ª×™×•×ª
××•×¨×™×™× ×˜×¦×™×” ×ž×›×™×¨×ª×™×ª ×•×™×›×•×œ×ª × ×™×”×•×œ ×ž×•"×ž
×›×•×©×¨ ×‘×™×˜×•×™ ×’×‘×•×”`,
    salaryRange: '×©×›×¨ ×‘×¡×™×¡ 6,500 â‚ª + ×©×¢×•×ª × ×•×¡×¤×•×ª + ×‘×•× ×•×¡ ×¢×“ 2,500 â‚ª',
    contactName: nofarContact.contactName,
    contactEmail: nofarContact.contactEmail,
    keywords: ['×ª×™×§ ×œ×§×•×—×•×ª', 'B2B', '×¢×¡×§×™', 'yes', '×™×¡', '×›×¤×¨ ×¡×‘×', '×©×™×¨×•×ª', '×ž×›×™×¨×•×ª', '×ž×•×§×“', 'account manager']
  })

  // × ×¦×™×’ ×§×”×™×œ×” ×“×™×’×™×˜×œ×™×ª
  await upsertPosition({
    employerId: yesEmployer.id,
    title: '× ×¦×™×’/×ª ×§×”×™×œ×” ×“×™×’×™×˜×œ×™×ª',
    location: '×›×¤×¨ ×¡×‘×',
    description: `ðŸ“± × ×¦×™×’ ×§×”×™×œ×” ×“×™×’×™×˜×œ×™×ª - YES

×¢×‘×•×“×” ×‘×¨×©×ª×•×ª ×”×—×‘×¨×ª×™×•×ª ×©×œ ×”×—×‘×¨×”, ×ž×ª×Ÿ ×ž×¢× ×” ×œ×œ×§×•×—×•×ª ×‘×¨×©×ª×•×ª ×”×—×‘×¨×ª×™×•×ª.
× ×™×”×•×œ ×§×©×¨ ×¢× ×œ×§×•×—×•×ª ×‘×¢×¨×•×¦×™× ×“×™×’×™×˜×œ×™×™×, ×›×ª×™×‘×ª ×ª×•×›×Ÿ ×•×ž×¢×•×¨×‘×•×ª ×¢× ×”×§×”×™×œ×”.

ðŸ“ž ×¨××™×•× ×•×ª: ×¤×¨×•× ×˜×œ×™ ×‘×›×¤×¨ ×¡×‘× ×ž×•×œ × ×•×¤×¨`,
    requirements: `× ×™×¡×™×•×Ÿ ×‘×¢×‘×•×“×” ×¢× ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª
×›×•×©×¨ ×‘×™×˜×•×™ ×ž×¢×•×œ×” ×‘×›×ª×‘
×™×›×•×œ×ª ×¢×‘×•×“×” ×‘×¡×‘×™×‘×” ×ž×ž×•×—×©×‘×ª
×©×™×¨×•×ª×™×•×ª
×™×¦×™×¨×ª×™×•×ª`,
    salaryRange: '×œ×¤×™ ×”×¡×›×',
    contactName: nofarContact.contactName,
    contactEmail: nofarContact.contactEmail,
    keywords: ['×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª', '×“×™×’×™×˜×œ', '×§×”×™×œ×”', 'social media', 'yes', '×™×¡', '×›×¤×¨ ×¡×‘×', '×¤×™×™×¡×‘×•×§', '××™× ×¡×˜×’×¨×', 'community manager']
  })

  // =============================================================
  // ×”×¦×’×ª ×›×œ ×”×ž×©×¨×•×ª
  // =============================================================
  
  const allYesPositions = await prisma.position.findMany({
    where: { employerId: yesEmployer.id, active: true },
    orderBy: { location: 'asc' }
  })

  console.log('\n=== ×›×œ ×ž×©×¨×•×ª YES ×”×¤×¢×™×œ×•×ª ===')
  allYesPositions.forEach((p, i) => {
    console.log(`${i + 1}. ${p.title}`)
    console.log(`   ðŸ“ ×ž×™×§×•×: ${p.location}`)
    console.log(`   ðŸ‘¤ ××™×© ×§×©×¨: ${p.contactName || '×œ× ×”×•×’×“×¨'}`)
    console.log(`   âœ‰ï¸  ×ž×™×™×œ: ${p.contactEmail || '×œ× ×”×•×’×“×¨'}`)
    console.log('')
  })

  console.log('ðŸŽ‰ ×¡×™×•× ×¢×“×›×•×Ÿ!')
}

// ×¤×•× ×§×¦×™×” ×œ×™×¦×™×¨×”/×¢×“×›×•×Ÿ ×ž×©×¨×”
async function upsertPosition(data) {
  const { employerId, title, keywords, ...updateData } = data
  
  // ×—×¤×© ×ž×©×¨×” ×§×™×™×ž×ª ×œ×¤×™ ×›×•×ª×¨×ª ×•×ž×¢×¡×™×§
  const existing = await prisma.position.findFirst({
    where: {
      employerId,
      title: { contains: title.split('/')[0].trim(), mode: 'insensitive' }
    }
  })

  if (existing) {
    // ×¢×“×›×Ÿ ×ž×©×¨×” ×§×™×™×ž×ª
    await prisma.position.update({
      where: { id: existing.id },
      data: {
        ...updateData,
        title,
        keywords: JSON.stringify(keywords),
        active: true
      }
    })
    console.log(`   âœ… ×¢×•×“×›×Ÿ: ${title}`)
  } else {
    // ×¦×•×¨ ×ž×©×¨×” ×—×“×©×”
    await prisma.position.create({
      data: {
        employerId,
        title,
        ...updateData,
        keywords: JSON.stringify(keywords),
        employmentType: '×ž×©×¨×” ×ž×œ××”',
        active: true,
        openings: 1,
        priority: 5
      }
    })
    console.log(`   ðŸ†• × ×•×¦×¨: ${title}`)
  }
}

main()
  .catch((e) => {
    console.error('âŒ ×©×’×™××”:', e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
